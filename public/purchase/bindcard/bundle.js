!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="http://cdn.xx.com/public/",e(0)}(function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))switch(typeof t[e]){case"function":break;case"object":t[e]=function(e){var n=e.slice(1),r=t[e[0]];return function(t,e,i){r.apply(this,[t,e,i].concat(n))}}(t[e]);break;default:t[e]=t[t[e]]}return t}([function(t,e,n){t.exports=n(7)},function(t,e){t.exports=jQuery},function(t,e,n){"use strict";var r=n(3),i=n(11),a=i.createPlugin,o=i.createWidget,s=n(10),c=s.ComponentClass,u=s.WidgetClass,l=n(12);t.exports={UI:r,position:l,createPlugin:a,ComponentClass:c,createWidget:o,WidgetClass:u}},function(t,e,n){"use strict";function r(t){var e=null;return i.each(a.DOMWatchers,function(n,r){return r.key===t?(e=r,!1):void 0}),e}var i=n(1);i.ui=i.ui||{};var a=i.ui,o=(i("html"),i("body"),window.document);i.extend(i.fn,{getInstance:function(){function t(t){var e=i(this);if(t)return e.data("__ui."+t);var n=e.data(),r=[];return n&&i.each(n,function(t,e){t&&0===t.indexOf("__ui.")&&r.push(e)}),1==r.length?r[0]:r.length>1?r:null}return t}()}),a.support={},a.support.transition=function(){var t=function(){var t=o.body||o.documentElement,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return e[n]}();return t&&{end:t}}(),a.support.animation=function(){var t=function(){var t=o.body||o.documentElement,e={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(void 0!==t.style[n])return e[n]}();return t&&{end:t}}(),a.DOMWatchers=[],a.DOMReady=!1,a.ready=function(t,e){var n=r(e);n||a.DOMWatchers.push({callback:t,key:e}),a.DOMReady&&t(document)},a.run=function(t){"string"==typeof t&&(t=[t]),t&&t.length?i.each(t,function(t,e){var n=r(e);n&&n.callback(document)}):i.each(a.DOMWatchers,function(t,e){e.callback(document)})},i(function(){a.DOMReady=!0,i.each(a.DOMWatchers,function(t,e){e.callback(document)})}),t.exports=a},function(t,e,n){"use strict";var r=n(1),i=Object.prototype,a=i.hasOwnProperty,o=Object.create,s=function(){function t(){}return t}(),c=function(){function t(t,e){return null!=t&&a.call(t,e)}return t}(),u=function(){function t(t){var e=typeof t;return"function"===e||"object"===e&&!!t}return t}(),l=function(){function t(t){if(!u(t))return{};if(o)return o(t);s.prototype=t;var e=new s;return s.prototype=null,e}return t}(),h=function(){function t(t,e){var n=l(t);return e&&r.extend(n,e),n}return t}(),f=function(){function t(t,e){var n,i=this;return n=t&&c(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},r.extend(n,i,e),n.prototype=h(i.prototype,t),n.prototype.constructor=n,n.__super__=i.prototype,n}return t}();t.exports=f},function(t,e,n){"use strict";var r=n(1),i=Object.prototype,a=i.toString,o=i.hasOwnProperty,s=Array.isArray,c=(Object.create,{isArray:s||function(t){return"[object Array]"===a.call(t)},isUndefined:function(){function t(t){return void 0===t}return t}(),now:Date.now||function(){return(new Date).getTime()},isObject:function(){function t(t){var e=typeof t;return"function"===e||"object"===e&&!!t}return t}()});r.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t,e){c["is"+e]=function(t){return a.call(t)==="[object "+e+"]"}}),r.extend(c,{has:function(){function t(t,e){return null!=t&&o.call(t,e)}return t}(),trim:function(){function t(t){return t?t.replace(/^\s+|\s+$/g,""):""}return t}(),noop:function(){function t(){}return t}(),stringFormat:function(){function t(){for(var t=Array.prototype.slice.call(arguments,0),e=t[0],n=1;n<t.length;++n){var r=c.isObject(t[n])?JSON.stringify(t[n]):t[n];e=e.replace(new RegExp("\\{"+(n-1)+"\\}","g"),r)}return e}return t}()}),t.exports=c},function(t,e,n){"use strict";var r=n(1),i={};t.exports={get:function(){function t(t){var e=t&&i[t];if(!e){var n=r.Callbacks();e={broadcast:n.fire,subscribe:n.add,unsubscribe:n.remove},t&&(i[t]=e)}return e}return t}()}},function(t,e,n){"use strict";var r=n(1);n(27),n(20)(r),n(9),n(16),n(14);var i,a=n(19),o=n(2),s=o.UI,c=r.extend({},a.DEFAULTS,{rules:{mobile:{required:!0,isMobile:!0},email:{required:!0,email:!0},smsCode:{required:!0},idcard:{required:!0,idCard:!0},yinhang_value:{required:!0}},messages:{name:"请填写真实姓名",email:"请填写正确的邮箱地址",mobile:{required:"请填写手机号码",isMobile:"请填写正确的手机号码"},smsCode:{required:"请填写短信验证码"},idcard:{required:"请填写身份证号",idCard:"请填写正确的身份证号"},yinhang_value:{required:"请选择银行卡"}},submitHandler:function(){function t(t){r(t).ajaxSubmit({beforeSubmit:function(){function t(){i.button("loading")}return t}(),success:function(){function t(){i.button("reset")}return t}()})}return t}()});s.ready(function(){var t=r("#J_bind_form");i=r("#J_bindcard_submit");var e=(t.validate(c),r(".plugin-otp",t).getInstance());e.setOptions({otpService:{apiRoot:"http://localhost:4002/api/",trySendOTPApi:"xg"},otpHasPassedCallback:function(){function t(t){}return t}(),getExtraData:function(){function t(){return{extraData:{name:"tianyingchun"}}}return t}()});var n=r(".dropdown",t).getInstance();void 0!=n&&null!=n&&n.setOptions({onSelect:function(){function t(t,e){var i=r(e.target),a=i.data("value"),o=i.find("a").text(),s=r(this).find('[name="yinhang_id"]'),c=r(this).find('[name="yinhang_value"]');s.val(a),c.val(o),n.close()}return t}()})},"bindcard")},function(t,e,n){"use strict";n(28);var r=n(1),i=n(2),a=i.UI,o=i.createPlugin,s=i.ComponentClass,c="button",u=s.extend({componentName:c,initialize:function(){function t(t,e){this.isLoading=!1,this.hasSpinner=!1}return t}(),setState:function(){function t(t,e){var n=this.$element,r="disabled",i=n.data(),o=this.options,s=n.is("input")?"val":"html",c="btn-"+t+" "+o.disabledClassName;t+="Text",o.resetText||(o.resetText=n[s]()),a.support.animation&&o.spinner&&"html"===s&&!this.hasSpinner&&(o.loadingText='<i class="glyph-icon glyph-'+o.spinner+' glyph-spin"></i> '+o.loadingText,this.hasSpinner=!0),e=e||(void 0===i[t]?o[t]:i[t]),n[s](e),setTimeout(this.bind(function(){"loadingText"===t?(n.addClass(c).attr(r,r),this.isLoading=!0):this.isLoading&&(n.removeClass(c).removeAttr(r),this.isLoading=!1)}),0)}return t}(),toggle:function(){function t(t){if(t){var e=!0,n=t.parent('[class*="btn-group"]');if(n.length){var r=t.find("input");"radio"==r.prop("type")&&(r.prop("checked")&&t.hasClass("active")?e=!1:n.find(".active").removeClass("active")),e&&r.prop("checked",!t.hasClass("active")).trigger("change")}e&&(t.toggleClass("active"),t.hasClass("active")||t.blur())}}return t}(),destroy:function(){function t(){this._destroy()}return t}()});u.DEFAULTS={loadingText:"loading...",resetText:"",disabledClassName:"disabled",spinner:void 0,preventDefault:!1},o(c,u,{methodCall:function(){function t(t,e){"toggle"===t[0]?e.toggle(t[1]):"string"==typeof t[0]&&e.setState.apply(e,t)}return t}()}),r(document).on("click.button.data-api","[data-button]",function(t){var e=r(t.target);e.hasClass("btn")||(e=e.closest(".btn"));var n=r(this).getInstance();n&&n.getOption("preventDefault")===!0&&t.preventDefault(),r(this).button("toggle",e)}),a.ready(function(t){r("[data-button]",t).button()},u.getInstanceName(c)),t.exports=u},function(t,e,n){"use strict";var r=n(8);t.exports=r},function(t,e,n){(function(e){"use strict";function r(t,n){if(!t)throw Error("you must provider `element` parameter for Component `"+this.componentName+"`!");this.options=e.extend({},this.constructor.DEFAULTS,n),this.$element=e(t).addClass(this.getComponentClassNames()),this._initialize.call(this,this.$element,this.options)}var i=n(4),a=n(6);r.prototype={constructor:r,_initialize:function(){function t(t,e){if(!this.componentName)throw Error("you must provider `componentName` property for your Component!");var n=this._getInternalInstanceName();t.data(n)||(t.data(n,this),this.initialize(t,e))}return t}(),initialize:function(){function t(t,e){throw new Error("the initialize() should be implemented!")}return t}(),_destroy:function(){function t(t){this.$element.data(this._getInternalInstanceName(),null),t===!0&&this.$element.data(this.componentName,null)}return t}(),destroy:function(){function t(t){throw this._destroy(t),new Error("the destroy() should be implemented!")}return t}(),setOptions:function(){function t(t){this.options=e.extend(this.options,t)}return t}(),getOption:function(){function t(t){return(this.options||{})[t]}return t}(),bind:function(){function t(t,n){var r=[t,n||this].concat(Array.prototype.slice.call(arguments,2));return e.proxy.apply(e.proxy,r)}return t}(),_getInternalInstanceName:function(){function t(){return"__"+this.getInstanceName()}return t}(),getInstanceName:function(){function t(){return this.constructor.getInstanceName(this.componentName)}return t}(),getComponentClassNames:function(){function t(){return this.componentName+" plugin-"+this.componentName}return t}()},r.extend=i,r.getInstanceName=function(t){return t=t||this.prototype.componentName,t?"ui."+t:void 0};var o=r.extend({getComponentClassNames:function(){function t(){return this.componentName+" widget-"+this.componentName}return t}(),broadcast:function(){function t(t){var e=this.getInstanceName();a.get(e).broadcast(t)}return t}()});o.getInstanceName=function(t){return t=t||this.prototype.componentName,t?"ui.widget."+t:void 0},t.exports={ComponentClass:r,WidgetClass:o}}).call(e,n(1))},function(t,e,n){"use strict";function r(t){return null==t?"":t+""}function i(t){return t=r(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function a(t){if(s.isPlainObject(t))return t;var e=t?t.indexOf("{"):-1,n={};if(-1!=e)try{var r=t.substr(e).replace(/'/gi,'"');n=s.parseJSON(r)}catch(i){}return n}function o(t,e,n,r){r=r||{};var o=s.fn[e];s.fn[e]=function(i){var o,c=Array.prototype.slice.call(arguments,0),u=c.slice(1),l=("widget"===t?"__ui.widget.":"__ui.")+e,h=r.dataOptionName||e,f=this.each(function(){var t=s(this),e=t.data(l),f=a(t.attr("data-"+h)),d=s.extend({},"object"==typeof f&&f,"object"==typeof i&&i);(e||"destroy"!==i)&&(e||t.data(l,e=new n(this,d)),r.methodCall?r.methodCall.call(t,c,e):(r.before&&r.before.call(t,c,e),"string"==typeof i&&(o="function"==typeof e[i]?e[i].apply(e,u):e[i]),r.after&&r.after.call(t,c,e)))});return void 0===o?f:o},s.fn[e].Constructor=n,s.fn[e].noConflict=function(){return s.fn[e]=o,this},n.displayName=i(e),"plugin"===t?u[e]=n:l[e]=n}var s=n(1),c=n(3),u=c.plugins=c.plugins||{},l=c.widgets=c.widgets||{};t.exports={createPlugin:function(){function t(t,e,n){return o("plugin",t,e,n)}return t}(),createWidget:function(){function t(t,e,n){return o("widget",t,e,n)}return t}()}},function(t,e,n){"use strict";function r(t,e,n){return[parseFloat(t[0])*(v.test(t[0])?e/100:1),parseFloat(t[1])*(v.test(t[1])?n/100:1)]}function i(t,e){return parseInt(o.css(t,e),10)||0}function a(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:o.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var o=n(1),s=n(3);o.ui=s;var c,u,l=Math.max,h=Math.abs,f=Math.round,d=/left|center|right/,p=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,g=/^\w+/,v=/%$/,b=o.fn.position;o.position={scrollbarWidth:function(){function t(){if(void 0!==c)return c;var t,e,n=o("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=n.children()[0];return o("body").append(n),t=r.offsetWidth,n.css("overflow","scroll"),e=r.offsetWidth,t===e&&(e=n[0].clientWidth),n.remove(),c=t-e}return t}(),getScrollInfo:function(){function t(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth,i="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:i?o.position.scrollbarWidth():0,height:r?o.position.scrollbarWidth():0}}return t}(),getWithinInfo:function(){function t(t){var e=o(t||window),n=o.isWindow(e[0]),r=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:r,offset:e.offset()||{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:n||r?e.width():e.outerWidth(),height:n||r?e.height():e.outerHeight()}}return t}()},o.fn.position=function(t){if(!t||!t.of)return b.apply(this,arguments);t=o.extend({},t);var e,n,s,c,v,y,x=o(t.of),w=o.position.getWithinInfo(t.within),T=o.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),k={};return y=a(x),x[0].preventDefault&&(t.at="left top"),n=y.width,s=y.height,c=y.offset,v=o.extend({},c),o.each(["my","at"],function(){var e,n,r=(t[this]||"").split(" ");1===r.length&&(r=d.test(r[0])?r.concat(["center"]):p.test(r[0])?["center"].concat(r):["center","center"]),r[0]=d.test(r[0])?r[0]:"center",r[1]=p.test(r[1])?r[1]:"center",e=m.exec(r[0]),n=m.exec(r[1]),k[this]=[e?e[0]:0,n?n[0]:0],t[this]=[g.exec(r[0])[0],g.exec(r[1])[0]]}),1===S.length&&(S[1]=S[0]),"right"===t.at[0]?v.left+=n:"center"===t.at[0]&&(v.left+=n/2),"bottom"===t.at[1]?v.top+=s:"center"===t.at[1]&&(v.top+=s/2),e=r(k.at,n,s),v.left+=e[0],v.top+=e[1],this.each(function(){var a,d,p=o(this),m=p.outerWidth(),g=p.outerHeight(),b=i(this,"marginLeft"),y=i(this,"marginTop"),C=m+b+i(this,"marginRight")+T.width,_=g+y+i(this,"marginBottom")+T.height,O=o.extend({},v),E=r(k.my,p.outerWidth(),p.outerHeight());"right"===t.my[0]?O.left-=m:"center"===t.my[0]&&(O.left-=m/2),"bottom"===t.my[1]?O.top-=g:"center"===t.my[1]&&(O.top-=g/2),O.left+=E[0],O.top+=E[1],u||(O.left=f(O.left),O.top=f(O.top)),a={marginLeft:b,marginTop:y},o.each(["left","top"],function(r,i){o.ui.position[S[r]]&&o.ui.position[S[r]][i](O,{targetWidth:n,targetHeight:s,elemWidth:m,elemHeight:g,collisionPosition:a,collisionWidth:C,collisionHeight:_,offset:[e[0]+E[0],e[1]+E[1]],my:t.my,at:t.at,within:w,elem:p})}),t.using&&(d=function(e){var r=c.left-O.left,i=r+n-m,a=c.top-O.top,o=a+s-g,u={target:{element:x,left:c.left,top:c.top,width:n,height:s},element:{element:p,left:O.left,top:O.top,width:m,height:g},horizontal:0>i?"left":r>0?"right":"center",vertical:0>o?"top":a>0?"bottom":"middle"};m>n&&h(r+i)<n&&(u.horizontal="center"),g>s&&h(a+o)<s&&(u.vertical="middle"),l(h(r),h(i))>l(h(a),h(o))?u.important="horizontal":u.important="vertical",t.using.call(this,e,u)}),p.offset(o.extend(O,{using:d}))})},o.ui.position={fit:{left:function(){function t(t,e){var n,r=e.within,i=r.isWindow?r.scrollLeft:r.offset.left,a=r.width,o=t.left-e.collisionPosition.marginLeft,s=i-o,c=o+e.collisionWidth-a-i;e.collisionWidth>a?s>0&&0>=c?(n=t.left+s+e.collisionWidth-a-i,t.left+=s-n):c>0&&0>=s?t.left=i:s>c?t.left=i+a-e.collisionWidth:t.left=i:s>0?t.left+=s:c>0?t.left-=c:t.left=l(t.left-o,t.left)}return t}(),top:function(){function t(t,e){var n,r=e.within,i=r.isWindow?r.scrollTop:r.offset.top,a=e.within.height,o=t.top-e.collisionPosition.marginTop,s=i-o,c=o+e.collisionHeight-a-i;e.collisionHeight>a?s>0&&0>=c?(n=t.top+s+e.collisionHeight-a-i,t.top+=s-n):c>0&&0>=s?t.top=i:s>c?t.top=i+a-e.collisionHeight:t.top=i:s>0?t.top+=s:c>0?t.top-=c:t.top=l(t.top-o,t.top)}return t}()},flip:{left:function(){function t(t,e){var n,r,i=e.within,a=i.offset.left+i.scrollLeft,o=i.width,s=i.isWindow?i.scrollLeft:i.offset.left,c=t.left-e.collisionPosition.marginLeft,u=c-s,l=c+e.collisionWidth-o-s,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>u?(n=t.left+f+d+p+e.collisionWidth-o-a,(0>n||n<h(u))&&(t.left+=f+d+p)):l>0&&(r=t.left-e.collisionPosition.marginLeft+f+d+p-s,(r>0||h(r)<l)&&(t.left+=f+d+p))}return t}(),top:function(){function t(t,e){var n,r,i=e.within,a=i.offset.top+i.scrollTop,o=i.height,s=i.isWindow?i.scrollTop:i.offset.top,c=t.top-e.collisionPosition.marginTop,u=c-s,l=c+e.collisionHeight-o-s,f="top"===e.my[1],d=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>u?(r=t.top+d+p+m+e.collisionHeight-o-a,(0>r||r<h(u))&&(t.top+=d+p+m)):l>0&&(n=t.top-e.collisionPosition.marginTop+d+p+m-s,(n>0||h(n)<l)&&(t.top+=d+p+m))}return t}()},flipfit:{left:function(){function t(){o.ui.position.flip.left.apply(this,arguments),o.ui.position.fit.left.apply(this,arguments)}return t}(),top:function(){function t(){o.ui.position.flip.top.apply(this,arguments),o.ui.position.fit.top.apply(this,arguments)}return t}()}},function(){var t,e,n,r,i,a=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&o.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(i in n)t.style[i]=n[i];t.appendChild(s),e=a||document.documentElement,e.insertBefore(t,e.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",r=o(s).offset().left,u=r>10&&11>r,t.innerHTML="",e.removeChild(t)}(),t.exports=s.position},function(t,e,n){"use strict";n(29);var r=n(1),i=n(2),a=i.UI,o=i.createPlugin,s=i.ComponentClass,c="dropdown",u=s.extend({componentName:c,initialize:function(){function t(t,e){var e=this.options,n=this.$launcher=t.find(e.launcherSelector),i=this.$launcherTarget=t.find(e.launcherTargetContainerSelector).hide();t.on("onSelect",function(){e.onSelect.apply(this,arguments)}),i.on("click",e.menuItemSelector,function(n){var a=r(this);t.triggerHandler("onSelect",{index:parseInt(i.find(e.menuItemSelector).index(a))+1,target:a}),a.addClass("active").siblings(e.menuItemSelector).removeClass("active"),e.menuAlwaysOpen&&(n.preventDefault(),n.stopPropagation())}),n.on("click",r.proxy(this.open,this)).on("mouseenter",function(){e.launchOnMouseEnter&&(clearTimeout(n.data("timeoutId")),n.trigger("click"))}).on("mouseleave",this.bind(function(t){e.launchOnMouseEnter&&n.data("timeoutId",setTimeout(this.bind(this.close),200))})),i.on("mouseenter",function(){clearTimeout(n.data("timeoutId"))}).on("mouseleave",e.menuSelector,this.bind(function(){e.launchOnMouseEnter&&e.toggleLauncher&&n.removeClass("active"),(!e.menuAlwaysOpen||e.launchOnMouseEnter)&&n.data("timeoutId",setTimeout(this.bind(this.close),200))})),this.allDropdowns.push(this)}return t}(),allDropdowns:[],open:function(){function t(){var t=this,e=t.options;return e.closeOthers&&r.each(this.allDropdowns,function(e,n){n!==t&&n.close()}),e.toggleLauncher&&t.$launcher.addClass("active"),t.$launcherTarget.show().position({my:e.my_position,at:e.at_position,of:t.$launcher}),r(document).one("click",function(){t.close()}),!1}return t}(),close:function(){function t(){this.$launcherTarget.hide(),this.$launcher.removeClass("active")}return t}(),destroy:function(){function t(){this._destroy(),this.$launcher.off("click").off("mouseenter").off("mouseleave"),this.$launcherTarget.off("click").off("mouseenter").off("mouseleave").off("onSelect"),this.allDropdowns.length=0}return t}()});u.DEFAULTS={launcherSelector:".dropdown-toggle",launcherTargetContainerSelector:".dropdown-content",menuItemSelector:"li",closeOthers:!0,my_position:"left top",at_position:"left bottom",toggleLauncher:!0,launchOnMouseEnter:!1,menuAlwaysOpen:!1,onSelect:r.noop},o(c,u),a.ready(function(){function t(t){var e=r("[data-dropdown]",t);e[c]()}return t}(),u.getInstanceName(c)),t.exports=u},function(t,e,n){"use strict";var r=n(13);t.exports=r},function(t,e,n){"use strict";function r(t){var e=function(){function t(){}return t}();return e.prototype=t,new e}function i(t,e){var n=u[t];return n&&n.test(e)?!0:l[t]}function a(t,e){this.cfg=r(h);for(var n in e)e.hasOwnProperty(n)&&e[n]&&(this.cfg[n]=e[n]);if(!t)throw new Error("我们必须提供Otp ImageCode 的服务实例！");this.handlers={},this.receiver=null,this.service=t;var i,a=!0,o=function(){function t(e,n){a||(i=setTimeout(function(){e.fireEvent("showTicker",n),n-=1,n>0?t(e,n):(n=0,e.fireEvent("closeTicker",n))},h.timeout))}return t}(),s=function(){function t(){a=!0,i&&(clearTimeout(i),i=0)}return t}();this.tearDownTicker=s,this._startTicker=function(t,e){s(),e=e||this.cfg.tickerSecond||60,a=!1,o(t,e)}}var o=n(23),s=o.lang,c=(s.isObject,s.isFunction),u=(s.trim,s.stringFormat,{phone:/^1[3-9][0-9]\d{8}$/,mobile:/^1[3-9][0-9]\d{8}$/}),l={common:"系统内部错误",phone:"手机号码格式错误",mobile:"手机号码格式错误"},h={timeout:1e3,trySendOTPServiceName:"trySendOTP",ignoreMobileValidation:!1,tickerSecond:60};a.prototype={constructor:a,addHandler:function(){function t(t,e){"undefined"==typeof this.handlers[t]&&(this.handlers[t]=[]),c(e)&&this.handlers[t].push(e)}return t}(),addReceiver:function(){function t(t){this.receiver=t}return t}(),removeHandler:function(){function t(t,e){if(this.handlers[t]instanceof Array){for(var n=this.handlers[t],r=0,i=n.length;i>r&&n[r]!==e;r++);n.splice(r,1)}}return t}(),fire:function(){function t(t){if(t.target||(t.target=this),this.receiver){if(!c(this.receiver))throw new Error("`receiver`接收器必须是一个函数！");this.receiver(t)}else if(this.handlers[t.type]instanceof Array)for(var e=this.handlers[t.type],n=0,r=e.length;r>n;n++)e[n](t)}return t}(),fireEvent:function(){function t(t,e){var n={type:t,data:e||null};this.fire(n)}return t}(),fireError:function(){function t(t,e){this.fireEvent("error",{code:t,message:e})}return t}(),isMobile:function(){function t(t){return i("mobile",t)}return t}(),trySendOTP:function(){function t(t,e,n,r){if(!this.cfg.ignoreMobileValidation){var a=i("phone",t);if(a!==!0)return void this.fireError("mobile_invalid",a)}this.fireEvent("OTPSending");var o=this,s=this.service[this.cfg.trySendOTPServiceName];return c(s)?void s.call(this.service,t,e,n,r,function(t){var e=t.data,n=t.code;switch(n){case"000000":o.fireEvent("OTPSentSuccess",e);var r=0;isNaN(e.retrySeconds)||(r=parseInt(e.retrySeconds)),o._startTicker(o,r);break;case"000001":var i=e.captcha;if(!i)throw Error("当前服务器端未传回Captha对象");o.fireEvent("captchaShow",i);break;default:o.fireError(n,t.message)}}):void this.fireError("try_send_otp_service_undefined","自定义业务trySendOTP()不是一个函数")}return t}(),refreshCaptcha:function(){function t(t){var e=this;this.service.refreshCaptcha(t,function(t){var n=t.code,r=t.data;switch(n){case"000000":e.fireEvent("captchaRefreshed",r.captcha);break;default:e.fireError("captcha_refreshed_failed",t.message)}})}return t}(),verifyCaptcha:function(){function t(t,e){var n=this;this.service.verifyCaptcha(t,e,function(t){var e=t.code,r=t.data;switch(e){case"000000":n.fireEvent("tokenFlushed",r.captchaToken);break;default:n.fireError("token_flushed_failed",t.message)}})}return t}()},t.exports=a},function(t,e,n){"use strict";var r=n(17);t.exports=r},function(t,e,n){"use strict";n(30);var r=n(1),i=n(2),a=i.UI,o=i.createPlugin,s=i.ComponentClass,c=n(15),u=n(18),l="otp",h=s.extend({componentName:l,initialize:function(){function t(t,e){this.running=!1,this.$mobileInput=t.find(e.mobileInputSelector),this.$captchaControl=t.find(e.captchaControlSelector),this.$captchaInput=t.find(e.captchaInputSelector),this.$captchaImage=t.find(e.captchaImageSelector),this.$otpGet=t.find(e.otpGetSelector),this.$otpInput=t.find(e.otpInputSelector),this.$otpTicker=t.find(e.otpTickerSelector);var n={trySendOTPServiceName:e.trySendOtpServiceName,ignoreMobileValidation:e.ignoreMobileValidation,tickerSecond:e.tickerSecond||60};r.extend(u,e.otpService),this.otpImgSuite=new c(u,n),this._hookEvents(),this._hookOtpSuiteModule(),e.firstShowCaptcha&&(this.refreshCaptcha(),this.$captchaControl.css("display","block"))}return t}(),_OTPSendingHandler:function(){function t(t){}return t}(),_OTPSentSuccessHandler:function(){function t(t){this._setMobileCaptchaDisabledStatus(!0),this.options.otpHasPassedCallback&&this.options.otpHasPassedCallback({data:t})}return t}(),_setMobileCaptchaDisabledStatus:function(){function t(t){t?(this.$mobileInput.prop("disabled",!0),this.$captchaInput.prop("disabled",!0)):(this.$mobileInput.prop("disabled",!1),this.$captchaInput.prop("disabled",!1))}return t}(),_setCaptchaToken:function(){function t(t){this.$element.data(this.options.dataCaptchaToken,t||null)}return t}(),_getCaptchaToken:function(){function t(){return this.$element.data(this.options.dataCaptchaToken)}return t}(),_setCaptchaId:function(){function t(t){this.$element.data(this.options.dataCaptchaId,t||null)}return t}(),_getCaptchaId:function(){function t(){return this.$element.data(this.options.dataCaptchaId)}return t}(),_getDeviceId:function(){function t(){return""}return t}(),_OTPErrorHandler:function(){function t(t){var e=t.data,n=e.code,r=e.message,i=this.options.otpErrorsCallback||function(){};switch(n){case"mobile_invalid":i(n,r);break;case"captcha_refreshed_failed":i(n,r);break;case"token_flushed_failed":this._setCaptchaToken(null),i(n,r);break;default:i(n,r)}}return t}(),_OTPShowTickerHandler:function(){function t(t){this.running=!0,this.$otpGet.css("display","none"),this.$otpTicker.css("display","block");var e=this.options.leftSecondFormatter.replace(new RegExp("\\{0\\}","g"),t);this.$otpTicker.html(e)}return t}(),_OTPCloseTickerHandler:function(){function t(t){this.running=!1,this._setMobileCaptchaDisabledStatus(!1),this.$otpGet.css("display","block"),this.$otpTicker.css("display","none"),this.$otpTicker.html("")}return t}(),_OTPShowCaptchaHandler:function(){function t(t){var e=t;this.$captchaControl.css("display","block"),this._OTPRefreshCaptchaUI(e)}return t}(),_restoreOTPInitState:function(){function t(){this.running=!1,this.otpImgSuite.tearDownTicker(),this._OTPCloseTickerHandler(),this.options.firstShowCaptcha?this.$captchaControl.css("display","block"):this.$captchaControl.css("display","none")}return t}(),_OTPRefreshCaptchaUI:function(){function t(t){this.$captchaImage.attr("src",t.captchaUrl?t.captchaUrl+"?r="+Math.random():""),this._setCaptchaId(t.captchaId)}return t}(),_OTPFlushTokenHandler:function(){function t(t){var e=t;this._setCaptchaToken(e),this.options.autoSendOtp&&this._trySendOtp()}return t}(),_hookEvents:function(){function t(){var t=this;this.$otpGet.on("click",function(e){t._trySendOtp()}),this.$captchaInput.on("input",function(e){var n=r.trim(r(this).val());n&&n.length>=4&&t.otpImgSuite.verifyCaptcha({captchaInput:n,captchaId:getCaptchaId()})}),this.$captchaImage.on("click",function(){t.refreshCaptcha()})}return t}(),_hookOtpSuiteModule:function(){function t(){var t=this.options,e=this;this.otpImgSuite.addReceiver(function(n){var r=n.type,i=n.data;switch(t.eventListener&&t.eventListener(n),r){case"OTPSending":e._OTPSendingHandler(n);break;case"OTPSentSuccess":e._OTPSentSuccessHandler(i);break;case"error":e._OTPErrorHandler(n);break;case"showTicker":e._OTPShowTickerHandler(i);break;case"closeTicker":e._OTPCloseTickerHandler(i);break;case"captchaShow":e._OTPShowCaptchaHandler(i);break;case"captchaRefreshed":e._OTPRefreshCaptchaUI(i);break;case"tokenFlushed":e._OTPFlushTokenHandler(i)}})}return t}(),_trySendOtp:function(){function t(){var t=this.$mobileInput.val(),e=this._getCaptchaToken(),n=this._getDeviceId()||"",i=r.extend({},this.options.getExtraData()||{});this.otpImgSuite.trySendOTP(t,e,n,i)}return t}(),start:function(){function t(){this._trySendOtp()}return t}(),reset:function(){function t(){this._restoreOTPInitState()}return t}(),refreshCaptcha:function(){function t(){this.running||this.otpImgSuite.refreshCaptcha()}return t}(),destroy:function(){function t(){this._destroy(),this.$otpGet.off("click"),this.$captchaInput.off("input")}return t}()});h.DEFAULTS={otpService:{apiRoot:"http://localhost:4001/api",trySendOTPApi:""},autoSendOtp:!1,firstShowCaptcha:!1,leftSecondFormatter:"{0}s",dataCaptchaId:"captchaId",dataCaptchaToken:"captchaToken",mobileInputSelector:".mobile-input",captchaControlSelector:"captcha-control",captchaInputSelector:".captcha-input",captchaImageSelector:".captcha-image",otpGetSelector:".btn-sendotp",otpInputSelector:".otp-input",otpTickerSelector:".ticker",eventListener:function(){function t(t){}return t}(),otpHasPassedCallback:function(){function t(t){}return t}(),otpErrorsCallback:function(){function t(t){}return t}(),getExtraData:function(){function t(){return null}return t}()},o(l,h),a.ready(function(t){r("[data-otp]",t).otp()},h.getInstanceName(l)),t.exports=h},function(t,e,n){"use strict";function r(t){return/^((ftp|http|https):\/\/|\/\/)[^ "]+$/.test(t)||(t=this.apiRoot+t),t}var i=n(1),a=function(){function t(t){var e={},n=i.extend({},t),r=n.data||n,a=n.code||"00000",o=n.message||"";return e={code:a||status,message:o,data:r},"00000"==e.code&&(e.code="000000"),e}return t}(),o=function(){function t(t){var e=a.call(this,t);return"000000"==e.code||"000000"!=e.code&&"1184"==e.code&&(e.code="000001",e.data={captcha:{captchaId:e.data.captchaId,captchaUrl:e.data.captchaUrl}}),e}return t}(),s=function(){function t(t){var e=a.call(this,t);return"000000"==e.code&&(e.data={captcha:{captchaId:e.data.captchaId,captchaUrl:e.data.captchaUrl}}),e}return t}(),c=function(){function t(t){var e=a.call(this,t);return"000000"==e.code&&(e.data={captchaToken:e.data}),e}return t}(),u={apiRoot:"http://localhost:4001/api",trySendOTPApi:"",getRequestUrl:r,dtos:{baseAjaxDto:a,baseAjaxTrySendOTPDto:o,baseAjaxRefreshCaptchaDto:s,baseAjaxVerifyCaptchaDto:c},trySendOTP:function(){function t(t,e,n,a,o){var s={phone:t};e&&(s.captchaToken=e),n&&(s.deviceId=n),i.extend(s,a);var c=this.trySendOTPApi||"/otp/sendOtp",l=this;i.ajax({url:r.call(this,c),contentType:"application/json",type:"POST",dataType:"json",data:JSON.stringify(s),processData:!1}).then(function(t){o&&o(l.dtos.baseAjaxTrySendOTPDto.call(u,t))},function(t){throw new Error("status code:"+t.status)})}return t}(),refreshCaptcha:function(){function t(t,e){var n={};i.extend(n,t);var a=this;i.ajax({url:r.call(this,"/otp/refreshCaptcha"),contentType:"application/json",type:"POST",dataType:"json",data:JSON.stringify(n),processData:!1}).then(function(t){e&&e(a.dtos.baseAjaxRefreshCaptchaDto.call(u,t))},function(t){throw new Error("status code:"+t.status)})}return t}(),verifyCaptcha:function(){function t(t,e,n){i.extend(t,e);var a=this;i.ajax({url:r.call(this,"/otp/verifyCaptcha"),contentType:"application/json",type:"POST",dataType:"json",data:JSON.stringify(t),processData:!1}).then(function(t){n&&n(a.dtos.baseAjaxVerifyCaptchaDto.call(u,t))},function(t){throw new Error("status code:"+t.status)})}return t}()};t.exports=u},function(t,e,n){"use strict";n(31);var r=n(22);t.exports=r},function(t,e,n){(function(e){/*!
	 * jQuery Form Plugin
	 * version: 3.20 (20-NOV-2012)
	 * @requires jQuery v1.5 or later
	 *
	 * Examples and documentation at: http://malsup.com/jquery/form/
	 * Project repository: https://github.com/malsup/form
	 * Dual licensed under the MIT and GPL licenses:
	 *    http://malsup.github.com/mit-license.txt
	 *    http://malsup.github.com/gpl-license-v2.txt
	 */
"use strict";t.exports=function(t){function n(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(this).ajaxSubmit(n))}function r(e){var n=e.target,r=t(n);if(!r.is("[type=submit],[type=image]")){var i=r.closest("[type=submit]");if(0===i.length)return;n=i[0]}var a=this;if(a.clk=n,"image"==n.type)if(void 0!==e.offsetX)a.clk_x=e.offsetX,a.clk_y=e.offsetY;else if("function"==typeof t.fn.offset){var o=r.offset();a.clk_x=e.pageX-o.left,a.clk_y=e.pageY-o.top}else a.clk_x=e.pageX-n.offsetLeft,a.clk_y=e.pageY-n.offsetTop;setTimeout(function(){a.clk=a.clk_x=a.clk_y=null},100)}function i(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}var a={};a.fileapi=void 0!==t("<input type='file'/>").get(0).files,a.formdata=void 0!==window.FormData,t.fn.ajaxSubmit=function(n){function r(e){var n,r,i=t.param(e).split("&"),a=i.length,o={};for(n=0;a>n;n++)r=i[n].split("="),o[decodeURIComponent(r[0])]=decodeURIComponent(r[1]);return o}function o(i){for(var a=new FormData,o=0;o<i.length;o++)a.append(i[o].name,i[o].value);if(n.extraData){var s=r(n.extraData);for(var u in s)s.hasOwnProperty(u)&&a.append(u,s[u])}n.data=null;var l=t.extend(!0,{},t.ajaxSettings,n,{contentType:!1,processData:!1,cache:!1,type:c||"POST"});n.uploadProgress&&(l.xhr=function(){var t=e.ajaxSettings.xhr();return t.upload&&(t.upload.onprogress=function(t){var e=0,r=t.loaded||t.position,i=t.total;t.lengthComputable&&(e=Math.ceil(r/i*100)),n.uploadProgress(t,r,i,e)}),t}),l.data=null;var h=l.beforeSend;return l.beforeSend=function(t,e){e.data=a,h&&h.call(this,t,e)},t.ajax(l)}function s(e){function r(t){var e=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document;return e}function a(){function e(){try{var t=r(g).readyState;i("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(n){i("Server abort: ",n," (",n.name,")"),o(_),w&&clearTimeout(w),w=void 0}}var n=h.attr("target"),a=h.attr("action");T.setAttribute("target",d),c||T.setAttribute("method","POST"),a!=l.url&&T.setAttribute("action",l.url),l.skipEncodingOverride||c&&!/post/i.test(c)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(w=setTimeout(function(){x=!0,o(C)},l.timeout));var s=[];try{if(l.extraData)for(var u in l.extraData)l.extraData.hasOwnProperty(u)&&(t.isPlainObject(l.extraData[u])&&l.extraData[u].hasOwnProperty("name")&&l.extraData[u].hasOwnProperty("value")?s.push(t('<input type="hidden" name="'+l.extraData[u].name+'">').attr("value",l.extraData[u].value).appendTo(T)[0]):s.push(t('<input type="hidden" name="'+u+'">').attr("value",l.extraData[u]).appendTo(T)[0]));l.iframeTarget||(p.appendTo("body"),g.attachEvent?g.attachEvent("onload",o):g.addEventListener("load",o,!1)),setTimeout(e,15),T.submit()}finally{T.setAttribute("action",a),n?T.setAttribute("target",n):h.removeAttr("target"),t(s).remove()}}function o(e){if(!v.aborted&&!L){try{j=r(g)}catch(n){i("cannot access response document: ",n),e=_}if(e===C&&v)return v.abort("timeout"),void k.reject(v,"timeout");if(e==_&&v)return v.abort("server abort"),void k.reject(v,"error","server abort");if(j&&j.location.href!=l.iframeSrc||x){g.detachEvent?g.detachEvent("onload",o):g.removeEventListener("load",o,!1);var a,s="success";try{if(x)throw"timeout";var c="xml"==l.dataType||j.XMLDocument||t.isXMLDoc(j);if(i("isXml="+c),!c&&window.opera&&(null===j.body||!j.body.innerHTML)&&--A)return i("requeing onLoad callback, DOM not available"),void setTimeout(o,250);var u=j.body?j.body:j.documentElement;v.responseText=u?u.innerHTML:null,v.responseXML=j.XMLDocument?j.XMLDocument:j,c&&(l.dataType="xml"),v.getResponseHeader=function(t){var e={"content-type":l.dataType};return e[t]},u&&(v.status=Number(u.getAttribute("status"))||v.status,v.statusText=u.getAttribute("statusText")||v.statusText);var h=(l.dataType||"").toLowerCase(),d=/(json|script|text)/.test(h);if(d||l.textarea){var m=j.getElementsByTagName("textarea")[0];if(m)v.responseText=m.value,v.status=Number(m.getAttribute("status"))||v.status,v.statusText=m.getAttribute("statusText")||v.statusText;else if(d){var b=j.getElementsByTagName("pre")[0],y=j.getElementsByTagName("body")[0];b?v.responseText=b.textContent?b.textContent:b.innerText:y&&(v.responseText=y.textContent?y.textContent:y.innerText)}}else"xml"==h&&!v.responseXML&&v.responseText&&(v.responseXML=D(v.responseText));try{I=M(v,h,l)}catch(e){s="parsererror",v.error=a=e||s}}catch(e){i("error caught: ",e),s="error",v.error=a=e||s}v.aborted&&(i("upload aborted"),s=null),v.status&&(s=v.status>=200&&v.status<300||304===v.status?"success":"error"),"success"===s?(l.success&&l.success.call(l.context,I,"success",v),k.resolve(v.responseText,"success",v),f&&t.event.trigger("ajaxSuccess",[v,l])):s&&(void 0===a&&(a=v.statusText),l.error&&l.error.call(l.context,v,s,a),k.reject(v,"error",a),f&&t.event.trigger("ajaxError",[v,l,a])),f&&t.event.trigger("ajaxComplete",[v,l]),f&&!--t.active&&t.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,v,s),L=!0,l.timeout&&clearTimeout(w),setTimeout(function(){l.iframeTarget||p.remove(),v.responseXML=null},100)}}}var s,u,l,f,d,p,g,v,b,y,x,w,T=h[0],S=!!t.fn.prop,k=t.Deferred();if(t("[name=submit],[id=submit]",T).length)return alert('Error: Form elements must not have name or id of "submit".'),k.reject(),k;if(e)for(u=0;u<m.length;u++)s=t(m[u]),S?s.prop("disabled",!1):s.removeAttr("disabled");if(l=t.extend(!0,{},t.ajaxSettings,n),l.context=l.context||l,d="jqFormIO"+(new Date).getTime(),l.iframeTarget?(p=t(l.iframeTarget),y=p.attr("name"),y?d=y:p.attr("name",d)):(p=t('<iframe name="'+d+'" src="'+l.iframeSrc+'" />'),p.css({position:"absolute",top:"-1000px",left:"-1000px"})),g=p[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){function t(){}return t}(),getResponseHeader:function(){function t(){}return t}(),setRequestHeader:function(){function t(){}return t}(),abort:function(){function e(e){var n="timeout"===e?"timeout":"aborted";if(i("aborting upload... "+n),this.aborted=1,g.contentWindow.document.execCommand)try{g.contentWindow.document.execCommand("Stop")}catch(r){}p.attr("src",l.iframeSrc),v.error=n,l.error&&l.error.call(l.context,v,n,e),f&&t.event.trigger("ajaxError",[v,l,n]),l.complete&&l.complete.call(l.context,v,n)}return e}()},f=l.global,f&&0===t.active++&&t.event.trigger("ajaxStart"),f&&t.event.trigger("ajaxSend",[v,l]),l.beforeSend&&l.beforeSend.call(l.context,v,l)===!1)return l.global&&t.active--,k.reject(),k;if(v.aborted)return k.reject(),k;b=T.clk,b&&(y=b.name,y&&!b.disabled&&(l.extraData=l.extraData||{},l.extraData[y]=b.value,"image"==b.type&&(l.extraData[y+".x"]=T.clk_x,l.extraData[y+".y"]=T.clk_y)));var C=1,_=2,O=t("meta[name=csrf-token]").attr("content"),E=t("meta[name=csrf-param]").attr("content");E&&O&&(l.extraData=l.extraData||{},l.extraData[E]=O),l.forceSync?a():setTimeout(a,10);var I,j,L,A=50,D=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&"parsererror"!=e.documentElement.nodeName?e:null},P=t.parseJSON||function(t){return window.eval("("+t+")")},M=function(){function e(e,n,r){var i=e.getResponseHeader("content-type")||"",a="xml"===n||!n&&i.indexOf("xml")>=0,o=a?e.responseXML:e.responseText;return a&&"parsererror"===o.documentElement.nodeName&&t.error&&t.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,n)),"string"==typeof o&&("json"===n||!n&&i.indexOf("json")>=0?o=P(o):("script"===n||!n&&i.indexOf("javascript")>=0)&&t.globalEval(o)),o}return e}();return k}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var c,u,l,h=this;"function"==typeof n&&(n={success:n}),c=this.attr("method"),u=this.attr("action"),l="string"==typeof u?t.trim(u):"",l=l||window.location.href||"",l&&(l=(l.match(/^([^#]+)/)||[])[1]),n=t.extend(!0,{url:l,success:t.ajaxSettings.success,type:c||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},n);var f={};if(this.trigger("form-pre-serialize",[this,n,f]),f.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(n.beforeSerialize&&n.beforeSerialize(this,n)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=n.traditional;void 0===d&&(d=t.ajaxSettings.traditional);var p,m=[],g=this.formToArray(n.semantic,m);if(n.data&&(n.extraData=n.data,p=t.param(n.data,d)),n.beforeSubmit&&n.beforeSubmit(g,this,n)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[g,this,n,f]),f.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var v=t.param(g,d);p&&(v=v?v+"&"+p:p),"GET"==n.type.toUpperCase()?(n.url+=(n.url.indexOf("?")>=0?"&":"?")+v,n.data=null):n.data=v;var b=[];if(n.resetForm&&b.push(function(){h.resetForm()}),n.clearForm&&b.push(function(){h.clearForm(n.includeHidden)}),!n.dataType&&n.target){var y=n.success||function(){};b.push(function(e){var r=n.replaceTarget?"replaceWith":"html";t(n.target)[r](e).each(y,arguments)})}else n.success&&b.push(n.success);n.success=function(t,e,r){for(var i=n.context||this,a=0,o=b.length;o>a;a++)b[a].apply(i,[t,e,r||h,h])};var x=t('input[type=file]:enabled[value!=""]',this),w=x.length>0,T="multipart/form-data",S=h.attr("enctype")==T||h.attr("encoding")==T,k=a.fileapi&&a.formdata;i("fileAPI :"+k);var C,_=(w||S)&&!k;n.iframe!==!1&&(n.iframe||_)?n.closeKeepAlive?t.get(n.closeKeepAlive,function(){C=s(g)}):C=s(g):C=(w||S)&&k?o(g):t.ajax(n),h.removeData("jqxhr").data("jqxhr",C);for(var O=0;O<m.length;O++)m[O]=null;return this.trigger("form-submit-notify",[this,n]),this},t.fn.ajaxForm=function(e){if(e=e||{},e.delegation=e.delegation&&t.isFunction(t.fn.on),!e.delegation&&0===this.length){var a={s:this.selector,c:this.context};return!t.isReady&&a.s?(i("DOM not ready, queuing ajaxForm"),t(function(){t(a.s,a.c).ajaxForm(e)}),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return e.delegation?(t(document).off("submit.form-plugin",this.selector,n).off("click.form-plugin",this.selector,r).on("submit.form-plugin",this.selector,e,n).on("click.form-plugin",this.selector,e,r),this):this.ajaxFormUnbind().bind("submit.form-plugin",e,n).bind("click.form-plugin",e,r)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e,n){var r=[];if(0===this.length)return r;var i=this[0],o=e?i.getElementsByTagName("*"):i.elements;if(!o)return r;var s,c,u,l,h,f,d;for(s=0,f=o.length;f>s;s++)if(h=o[s],u=h.name)if(e&&i.clk&&"image"==h.type)h.disabled||i.clk!=h||(r.push({name:u,value:t(h).val(),type:h.type}),r.push({name:u+".x",value:i.clk_x},{name:u+".y",value:i.clk_y}));else if(l=t.fieldValue(h,!0),l&&l.constructor==Array)for(n&&n.push(h),c=0,d=l.length;d>c;c++)r.push({name:u,value:l[c]});else if(a.fileapi&&"file"==h.type&&!h.disabled){n&&n.push(h);var p=h.files;if(p.length)for(c=0;c<p.length;c++)r.push({name:u,value:p[c],type:h.type});else r.push({name:u,value:"",type:h.type})}else null!==l&&"undefined"!=typeof l&&(n&&n.push(h),r.push({name:u,value:l,type:h.type,required:h.required}));if(!e&&i.clk){var m=t(i.clk),g=m[0];u=g.name,u&&!g.disabled&&"image"==g.type&&(r.push({name:u,value:m.val()}),r.push({name:u+".x",value:i.clk_x},{name:u+".y",value:i.clk_y}))}return r},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var r=this.name;if(r){var i=t.fieldValue(this,e);if(i&&i.constructor==Array)for(var a=0,o=i.length;o>a;a++)n.push({name:r,value:i[a]});else null!==i&&"undefined"!=typeof i&&n.push({name:this.name,value:i})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],r=0,i=this.length;i>r;r++){var a=this[r],o=t.fieldValue(a,e);null===o||"undefined"==typeof o||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(n,o):n.push(o))}return n},t.fieldValue=function(e,n){var r=e.name,i=e.type,a=e.tagName.toLowerCase();if(void 0===n&&(n=!0),n&&(!r||e.disabled||"reset"==i||"button"==i||("checkbox"==i||"radio"==i)&&!e.checked||("submit"==i||"image"==i)&&e.form&&e.form.clk!=e||"select"==a&&-1==e.selectedIndex))return null;if("select"==a){var o=e.selectedIndex;if(0>o)return null;for(var s=[],c=e.options,u="select-one"==i,l=u?o+1:c.length,h=u?o:0;l>h;h++){var f=c[h];if(f.selected){var d=f.value;if(d||(d=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),u)return d;s.push(d)}}return s}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(e){var n=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var r=this.type,i=this.tagName.toLowerCase();n.test(r)||"textarea"==i?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==i?this.selectedIndex=-1:e&&(e===!0&&/hidden/.test(r)||"string"==typeof e&&t(this).is(e))&&(this.value="")})},t.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return void 0===t&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var n=this.type;if("checkbox"==n||"radio"==n)this.checked=e;else if("option"==this.tagName.toLowerCase()){var r=t(this).parent("select");e&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}}).call(e,n(1))},function(t,e,n){var r,i,a;!function(o){i=[n(1)],r=o,a="function"==typeof r?r.apply(e,i):r,!(void 0!==a&&(t.exports=a))}(function(t){t.extend(t.fn,{validate:function(){function e(e){if(!this.length)return void(e&&e.debug&&window.console);var n=t.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new t.validator(e,this[0]),t.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(e){n.settings.submitHandler&&(n.submitButton=e.target),t(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(e){function r(){var r,i;return n.settings.submitHandler?(n.submitButton&&(r=t("<input type='hidden'/>").attr("name",n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)),i=n.settings.submitHandler.call(n,n.currentForm,e),n.submitButton&&r.remove(),void 0!==i?i:!1):!0}return n.settings.debug&&e.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)}return e}(),valid:function(){function e(){var e,n,r;return t(this[0]).is("form")?e=this.validate().form():(r=[],e=!0,n=t(this[0].form).validate(),this.each(function(){e=n.element(this)&&e,r=r.concat(n.errorList)}),n.errorList=r),e}return e}(),rules:function(){function e(e,n){var r,i,a,o,s,c,u=this[0];if(e)switch(r=t.data(u.form,"validator").settings,i=r.rules,a=t.validator.staticRules(u),e){case"add":t.extend(a,t.validator.normalizeRule(n)),delete a.messages,i[u.name]=a,n.messages&&(r.messages[u.name]=t.extend(r.messages[u.name],n.messages));break;case"remove":return n?(c={},t.each(n.split(/\s/),function(e,n){c[n]=a[n],delete a[n],"required"===n&&t(u).removeAttr("aria-required")}),c):(delete i[u.name],a)}return o=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u),o.required&&(s=o.required,delete o.required,o=t.extend({required:s},o),t(u).attr("aria-required","true")),o.remote&&(s=o.remote,delete o.remote,o=t.extend(o,{remote:s})),o}return e}()}),t.extend(t.expr[":"],{blank:function(){function e(e){return!t.trim(""+t(e).val())}return e}(),filled:function(){function e(e){return!!t.trim(""+t(e).val())}return e}(),unchecked:function(){function e(e){return!t(e).prop("checked")}return e}()}),t.validator=function(e,n){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=n,this.init()},t.validator.format=function(e,n){return 1===arguments.length?function(){var n=t.makeArray(arguments);return n.unshift(e),t.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=t.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),t.each(n,function(t,n){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return n})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(){function t(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))}return t}(),onfocusout:function(){function t(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)}return t}(),onkeyup:function(){function e(e,n){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(e)||-1!==t.inArray(n.keyCode,r)||(e.name in this.submitted||e===this.lastElement)&&this.element(e)}return e}(),onclick:function(){function t(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)}return t}(),highlight:function(){function e(e,n,r){"radio"===e.type?this.findByName(e.name).addClass(n).removeClass(r):t(e).addClass(n).removeClass(r)}return e}(),unhighlight:function(){function e(e,n,r){"radio"===e.type?this.findByName(e.name).removeClass(n).addClass(r):t(e).removeClass(n).addClass(r)}return e}()},setDefaults:function(){function e(e){t.extend(t.validator.defaults,e)}return e}(),messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(){function e(e){var n=t.data(this.form,"validator"),r="on"+e.type.replace(/^validate/,""),i=n.settings;i[r]&&!t(this).is(i.ignore)&&i[r].call(n,this,e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,r=this.groups={};t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){r[n]=e})}),n=this.settings.rules,t.each(n,function(e,r){n[e]=t.validator.normalizeRule(r)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']",e).on("click.validate","select, option, [type='radio'], [type='checkbox']",e),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")}return e}(),form:function(){function e(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()}return e}(),checkForm:function(){function t(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()}return t}(),element:function(){function e(e){var n=this.clean(e),r=this.validationTargetFor(n),i=!0;return this.lastElement=r,void 0===r?delete this.invalid[n.name]:(this.prepareElement(r),this.currentElements=t(r),i=this.check(r)!==!1,i?delete this.invalid[r.name]:this.invalid[r.name]=!0),t(e).attr("aria-invalid",!i),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i}return e}(),showErrors:function(){function e(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var n in e)this.errorList.push({message:e[n],element:this.findByName(n)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()}return e}(),resetForm:function(){function e(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors();var e,n=this.elements().removeData("previousValue").removeAttr("aria-invalid");if(this.settings.unhighlight)for(e=0;n[e];e++)this.settings.unhighlight.call(this,n[e],this.settings.errorClass,"");else n.removeClass(this.settings.errorClass)}return e}(),numberOfInvalids:function(){function t(){return this.objectLength(this.invalid)}return t}(),objectLength:function(){function t(t){var e,n=0;for(e in t)n++;return n}return t}(),hideErrors:function(){function t(){this.hideThese(this.toHide)}return t}(),hideThese:function(){function t(t){t.not(this.containers).text(""),this.addWrapper(t).hide()}return t}(),valid:function(){function t(){return 0===this.size()}return t}(),size:function(){function t(){return this.errorList.length}return t}(),focusInvalid:function(){function e(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}return e}(),findLastActive:function(){function e(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e}return e}(),elements:function(){function e(){var e=this,n={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console,this.name in n||!e.objectLength(t(this).rules())?!1:(n[this.name]=!0,!0)})}return e}(),clean:function(){function e(e){return t(e)[0]}return e}(),errors:function(){function e(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)}return e}(),reset:function(){function e(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])}return e}(),prepareForm:function(){function t(){this.reset(),this.toHide=this.errors().add(this.containers)}return t}(),prepareElement:function(){function t(t){this.reset(),this.toHide=this.errorsFor(t)}return t}(),elementValue:function(){function e(e){var n,r=t(e),i=e.type;return"radio"===i||"checkbox"===i?this.findByName(e.name).filter(":checked").val():"number"===i&&"undefined"!=typeof e.validity?e.validity.badInput?!1:r.val():(n=r.val(),"string"==typeof n?n.replace(/\r/g,""):n)}return e}(),check:function(){function e(e){e=this.validationTargetFor(this.clean(e));var n,r,i,a=t(e).rules(),o=t.map(a,function(t,e){return e}).length,s=!1,c=this.elementValue(e);for(r in a){i={method:r,parameters:a[r]};try{if(n=t.validator.methods[r].call(this,c,e,i.parameters),"dependency-mismatch"===n&&1===o){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!n)return this.formatAndAdd(e,i),!1}catch(u){throw this.settings.debug&&window.console,u instanceof TypeError&&(u.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),u}}if(!s)return this.objectLength(a)&&this.successList.push(e),!0}return e}(),customDataMessage:function(){function e(e,n){return t(e).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||t(e).data("msg")}return e}(),customMessage:function(){function t(t,e){var n=this.settings.messages[t];return n&&(n.constructor===String?n:n[e])}return t}(),findDefined:function(){function t(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t];return void 0}return t}(),defaultMessage:function(){function e(e,n){return this.findDefined(this.customMessage(e.name,n),this.customDataMessage(e,n),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[n],"<strong>Warning: No message defined for "+e.name+"</strong>")}return e}(),formatAndAdd:function(){function e(e,n){var r=this.defaultMessage(e,n.method),i=/\$?\{(\d+)\}/g;"function"==typeof r?r=r.call(this,n.parameters,e):i.test(r)&&(r=t.validator.format(r.replace(i,"{$1}"),n.parameters)),this.errorList.push({message:r,element:e,method:n.method}),this.errorMap[e.name]=r,this.submitted[e.name]=r}return e}(),addWrapper:function(){function t(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t}return t}(),defaultShowErrors:function(){function t(){var t,e,n;for(t=0;this.errorList[t];t++)n=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()}return t}(),validElements:function(){function t(){return this.currentElements.not(this.invalidElements())}return t}(),invalidElements:function(){function e(){return t(this.errorList).map(function(){return this.element})}return e}(),showLabel:function(){function e(e,n){var r,i,a,o=this.errorsFor(e),s=this.idOrName(e),c=t(e).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(n)):(o=t("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(n||""),r=o,this.settings.wrapper&&(r=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement(r,t(e)):r.insertAfter(e),o.is("label")?o.attr("for",s):0===o.parents("label[for='"+s+"']").length&&(a=o.attr("id").replace(/(:|\.|\[|\]|\$)/g,"\\$1"),c?c.match(new RegExp("\\b"+a+"\\b"))||(c+=" "+a):c=a,t(e).attr("aria-describedby",c),i=this.groups[e.name],i&&t.each(this.groups,function(e,n){n===i&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",o.attr("id"))}))),!n&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,e)),this.toShow=this.toShow.add(o)}return e}(),errorsFor:function(){function e(e){var n=this.idOrName(e),r=t(e).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";return r&&(i=i+", #"+r.replace(/\s+/g,", #")),this.errors().filter(i)}return e}(),idOrName:function(){function t(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)}return t}(),validationTargetFor:function(){function e(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]}return e}(),checkable:function(){function t(t){return/radio|checkbox/i.test(t.type)}return t}(),findByName:function(){function e(e){return t(this.currentForm).find("[name='"+e+"']")}return e}(),getLength:function(){function e(e,n){switch(n.nodeName.toLowerCase()){case"select":return t("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return e.length}return e}(),depend:function(){function t(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0}return t}(),dependTypes:{"boolean":function(){function t(t){return t}return t}(),string:function(){function e(e,n){return!!t(e,n.form).length}return e}(),"function":function(){function t(t,e){return t(e)}return t}()},optional:function(){function e(e){var n=this.elementValue(e);return!t.validator.methods.required.call(this,n,e)&&"dependency-mismatch"}return e}(),startRequest:function(){function t(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)}return t}(),stopRequest:function(){function e(e,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)}return e}(),previousValue:function(){function e(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}return e}(),destroy:function(){function e(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator")}return e}()},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(){function e(e,n){e.constructor===String?this.classRuleSettings[e]=n:t.extend(this.classRuleSettings,e)}return e}(),classRules:function(){function e(e){var n={},r=t(e).attr("class");return r&&t.each(r.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(n,t.validator.classRuleSettings[this])}),n}return e}(),normalizeAttributeRule:function(){function t(t,e,n,r){/min|max/.test(n)&&(null===e||/number|range|text/.test(e))&&(r=Number(r),isNaN(r)&&(r=void 0)),r||0===r?t[n]=r:e===n&&"range"!==e&&(t[n]=!0)}return t}(),attributeRules:function(){function e(e){var n,r,i={},a=t(e),o=e.getAttribute("type");for(n in t.validator.methods)"required"===n?(r=e.getAttribute(n),""===r&&(r=!0),r=!!r):r=a.attr(n),this.normalizeAttributeRule(i,o,n,r);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i}return e}(),dataRules:function(){function e(e){var n,r,i={},a=t(e),o=e.getAttribute("type");for(n in t.validator.methods)r=a.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(i,o,n,r);return i}return e}(),staticRules:function(){function e(e){var n={},r=t.data(e.form,"validator");return r.settings.rules&&(n=t.validator.normalizeRule(r.settings.rules[e.name])||{}),n}return e}(),normalizeRules:function(){function e(e,n){return t.each(e,function(r,i){if(i===!1)return void delete e[r];if(i.param||i.depends){var a=!0;switch(typeof i.depends){case"string":a=!!t(i.depends,n.form).length;break;case"function":a=i.depends.call(n,n)}a?e[r]=void 0!==i.param?i.param:!0:delete e[r]}}),t.each(e,function(r,i){e[r]=t.isFunction(i)?i(n):i}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]));
}),t.each(["rangelength","range"],function(){var n;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(n=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(n[0]),Number(n[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e}return e}(),normalizeRule:function(){function e(e){if("string"==typeof e){var n={};t.each(e.split(/\s/),function(){n[this]=!0}),e=n}return e}return e}(),addMethod:function(){function e(e,n,r){t.validator.methods[e]=n,t.validator.messages[e]=void 0!==r?r:t.validator.messages[e],n.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))}return e}(),methods:{required:function(){function e(e,n,r){if(!this.depend(r,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var i=t(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(e,n)>0:e.length>0}return e}(),email:function(){function t(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)}return t}(),url:function(){function t(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)}return t}(),date:function(){function t(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())}return t}(),dateISO:function(){function t(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)}return t}(),number:function(){function t(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)}return t}(),digits:function(){function t(t,e){return this.optional(e)||/^\d+$/.test(t)}return t}(),creditcard:function(){function t(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,r,i=0,a=0,o=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(n=t.length-1;n>=0;n--)r=t.charAt(n),a=parseInt(r,10),o&&(a*=2)>9&&(a-=9),i+=a,o=!o;return i%10===0}return t}(),minlength:function(){function e(e,n,r){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=r}return e}(),maxlength:function(){function e(e,n,r){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||r>=i}return e}(),rangelength:function(){function e(e,n,r){var i=t.isArray(e)?e.length:this.getLength(e,n);return this.optional(n)||i>=r[0]&&i<=r[1]}return e}(),min:function(){function t(t,e,n){return this.optional(e)||t>=n}return t}(),max:function(){function t(t,e,n){return this.optional(e)||n>=t}return t}(),range:function(){function t(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]}return t}(),equalTo:function(){function e(e,n,r){var i=t(r);return this.settings.onfocusout&&i.off(".validate-equalTo").on("blur.validate-equalTo",function(){t(n).valid()}),e===i.val()}return e}(),remote:function(){function e(e,n,r){if(this.optional(n))return"dependency-mismatch";var i,a,o=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),o.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=o.message,r="string"==typeof r&&{url:r}||r,o.old===e?o.valid:(o.old=e,i=this,this.startRequest(n),a={},a[n.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:a,context:i.currentForm,success:function(){function r(r){var a,s,c,u=r===!0||"true"===r;i.settings.messages[n.name].remote=o.originalMessage,u?(c=i.formSubmitted,i.prepareElement(n),i.formSubmitted=c,i.successList.push(n),delete i.invalid[n.name],i.showErrors()):(a={},s=r||i.defaultMessage(n,"remote"),a[n.name]=o.message=t.isFunction(s)?s(e):s,i.invalid[n.name]=!0,i.showErrors(a)),o.valid=u,i.stopRequest(n,u)}return r}()},r)),"pending")}return e}()}});var e,n={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,r){var i=t.port;"abort"===t.mode&&(n[i]&&n[i].abort(),n[i]=r)}):(e=t.ajax,t.ajax=function(r){var i=("mode"in r?r:t.ajaxSettings).mode,a=("port"in r?r:t.ajaxSettings).port;return"abort"===i?(n[a]&&n[a].abort(),n[a]=e.apply(this,arguments),n[a]):e.apply(this,arguments)}),t.validator})},function(t,e,n){"use strict";var r=n(1),i=n(21),a={postcode:/^[1-9][0-9]{5}$/,idcard:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,chCode:/[^\u4e00-\u9fa5\s+]/gi,enCode:/^[a-zA-Z\s]+$/,mobile:/^1[3-9][0-9]\d{8}$/,empty:/^\s+|\s+$/gi,url:/^https?:\/\//,bankcard:/^\d{12,}$/,captchaInput:/^.{4}$/,paypwd:/^[a-zA-Z0-9]{6,8}$/};i.addMethod("isMobile",function(t,e){var n=t.length,r=a.mobile;return 11==n&&r.exec(t)?!0:!1},"请填写正确的手机号码"),i.addMethod("isQQ",function(t,e){var n=/^\d+$/;return t?n.exec(t)?!0:!1:!0},"请填写正确的QQ号码"),i.addMethod("bankCard",function(t,e){var n=a.bankcard;return t?n.exec(t)?!0:!1:!0},"请填写正确的银行卡号"),i.addMethod("idCard",function(t,e){var n=a.idcard;return t?n.exec(t)?!0:!1:!0},"请填写正确的身份证号"),i.addMethod("paypwd",function(t,e){var n=a.paypwd;return t?n.exec(t)?!0:!1:!0},"请填写6-8位支付密码"),r.extend(i.messages,{required:"必选项",remote:"请修正该选项",email:"请输入正确格式的电子邮件",url:"请输入合法的网址",date:"请输入合法的日期",dateISO:"请输入合法的日期 (ISO).",number:"请输入合法的数字",digits:"只能输入整数",creditcard:"请输入合法的信用卡号",equalTo:"请再次输入相同的值",accept:"请输入拥有合法后缀名的字符串",maxlength:r.validator.format("请输入一个 长度最多是 {0} 的字符串"),minlength:r.validator.format("请输入一个 长度最少是 {0} 的字符串"),rangelength:r.validator.format("请输入 一个长度介于 {0} 和 {1} 之间的字符串"),range:r.validator.format("请输入一个介于 {0} 和 {1} 之间的值"),max:r.validator.format("请输入一个最大为{0} 的值"),min:r.validator.format("请输入一个最小为{0} 的值")});var o="form-error",s="form-success";i.DEFAULTS={ignore:".ignore",errorClass:"error",validClass:"success",errorElement:"span",errorPlacement:function(){function t(t,e){e.parents(".form-group").addClass("form-error").append(t)}return t}(),highlight:function(){function t(t,e,n){r(t).parents(".form-group").addClass(o).removeClass(s)}return t}(),unhighlight:function(){function t(t,e,n){r(t).parents(".form-group").removeClass(o).addClass(s)}return t}()},t.exports=i},function(t,e,n){"use strict";var r=n(5),i=n(24),a=n(4),o=n(25),s=n(26),c=n(6);t.exports={lang:r,path:i,extend:a,platform:o,template:s,signals:c}},function(t,e,n){"use strict";var r=n(1),i=n(32),a=n(5),o={normalizePath:function(){function t(){var t=[];r.each(arguments,function(e,n){t.push(n?n.replace(/^\/+|\/+$/gi,""):"")});var e="/"+t.join("/");return e.replace(/^\/+/gi,"/")}return t}(),getUrl:function(){function t(t,e){var n,o=i("port"),s=i("hostname"),c=i("protocol"),u=new RegExp("(https|http|ftp)?://");if(n=u.test(t)?t:a.stringFormat("{0}://{1}{2}{3}",c,s,443===o||80===o?"":":"+o,this.normalizePath(t)),a.isObject(e)){var l=[];return r.each(e,function(t,e){l.push(t+"="+e)}),n+"?"+l.join("&").replace(/^&+/,"")}return n}return t}()};t.exports=o},function(t,e){"use strict";var n=function(){function t(){var t=navigator.userAgent.toLowerCase(),e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],n={browser:e[1]||"",version:e[2]||"0"},r={};return n.browser&&(r[n.browser]=!0,r.version=n.version),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0),r}return t}();t.exports=n()},function(t,e){"use strict";function n(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(){for(var t=arguments[0]||{},e=Array.prototype.slice.call(arguments,1),n=e.length,r=0;n>r;r++){var i=e[r];for(var a in i)t[a]=i[a]}return t}function i(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function a(t){return t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")}function o(t){var e="template.js error\n\n";for(var n in t)e+="<"+n+">\n"+t[n]+"\n\n";return e+="<message>\n"+t.message+"\n\n",console&&console.error&&void 0,h.error(t),function(){return"template.js error"}}function s(t,e){function n(t){return'__r__.push("'+t.replace(/"/g,'\\"')+'");\n'}function r(t){var e;return-1!==t.search(/^=/)?(e=t.slice(1),e=s?"__encodeHTML__("+e+")":e,"__r__.push("+e+");\n"):-1!==t.search(/^:h=/)?(e=t.slice(3),"__r__.push(__encodeHTML__("+e+"));\n"):-1!==t.search(/^:=/)?(e=t.slice(2),"__r__.push("+e+");\n"):-1!==t.search(/^:u=/)?(e=t.slice(3),"__r__.push(encodeURI("+e+"));\n"):t+"\n"}for(var i="",a=e.sTag,o=e.eTag,s=e.escape,c=t.split(a),u=0,l=c.length;l>u;u++){var h=c[u].split(o);1===h.length?i+=n(h[0]):(i+=r(h[0],!0),h[1]&&(i+=n(h[1])))}return i}function c(t,e){var n=s(t,e),r='\nvar r = (function (__data__, __encodeHTML__) {var __str__ = "", __r__ = [];\nfor(var key in __data__) {\n__str__+=("var " + key + "=__data__[\'" + key + "\'];");\n}\neval(__str__);\n',i=';\nreturn __r__;\n}(__data__, __encodeHTML__));\nreturn r.join("");',a=r+n+i;a=a.replace(/[\r\t\n]/g,"");try{var o=new Function("__data__","__encodeHTML__",a);return o}catch(c){throw c.temp="function anonymous(__data__, __encodeHTML__) {"+a+"}",c}}function u(t,e){function n(n){try{var r=s(n,i);return r=e.compress?a(r):r}catch(c){return c.name="RenderError",c.tpl=t,c.render=s.toString(),o(c)}}e=r({},h,e);try{var s=c(t,e)}catch(u){return u.name="CompileError",u.tpl=t,u.render=u.temp,delete u.temp,o(u)}return n.toString=function(){return s.toString()},n}function l(t,e){if("string"!=typeof t)return"";var r=u(t);return n(e)?r(e):r}var h={sTag:"<%",eTag:"%>",compress:!1,escape:!0,error:function(){function t(t){}return t}()};l.config=function(t){return n(t)&&(h=r(h,t)),r({},h)},l.__encodeHTML=i,l.__compile=u,l.version="0.4.0",t.exports=l},function(t,e){},27,27,27,27,function(t,e){t.exports=function(t,e){function n(){return new RegExp(/(.*?)\.?([^\.]*?)\.?(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/)}function r(t){return decodeURIComponent(t.replace(/\+/g," "))}function i(t,e){var n=t.charAt(0),r=e.split(n);return n===t?r:(t=parseInt(t.substring(1),10),r[0>t?r.length+t:t-1])}function a(t,e){var n=t.charAt(0),i=e.split("&"),a=[],o={},s=[],c=t.substring(1);for(var u in i)if(a=i[u].split(/=(.*)/),""!==a[0].replace(/\s/g,"")){if(a[1]=r(a[1]||""),c===a[0])return a[1];s=a[0].match(/(.*)\[([0-9]+)\]/),s?(o[s[1]]=o[s[1]]||[],o[s[1]][s[2]]=a[1]):o[a[0]]=a[1]}return n===t?o:o[c]}var o,s,c={};if("tld?"===t)return n();if(e=e||window.location.toString(),!t)return e;if(t=t.toString(),e.match(/^mailto:[^\/]/))c.protocol="mailto",c.email=e.split(/mailto\:/)[1];else{if(o=e.split(/#(.*)/),c.hash=o[1]?o[1]:void 0,c.hash&&t.match(/^#/))return a(t,c.hash);if(o=o[0].split(/\?(.*)/),c.query=o[1]?o[1]:void 0,c.query&&t.match(/^\?/))return a(t,c.query);if(o=o[0].split(/\:?\/\//),c.protocol=o[1]?o[0].toLowerCase():void 0,o=(o[1]?o[1]:o[0]).split(/(\/.*)/),c.path=o[1]?o[1]:"",c.path=c.path.replace(/^([^\/])/,"/$1").replace(/\/$/,""),t.match(/^[\-0-9]+$/)&&(t=t.replace(/^([^\/])/,"/$1")),t.match(/^\//))return i(t,c.path.substring(1));if(s=i("/-1",c.path.substring(1)),s=s.split(/\.(.*)/),s[1]&&(c.file=s[0]+"."+s[1],c.filename=s[0],c.fileext=s[1]),o=o[0].split(/\:([0-9]+)$/),c.port=o[1]?o[1]:void 0,o=o[0].split(/@/),c.auth=o[1]?o[0]:void 0,c.auth&&(s=c.auth.split(/\:(.*)/),c.user=s[0],c.pass=s[1]),c.hostname=(o[1]?o[1]:o[0]).toLowerCase(),"."===t.charAt(0))return i(t,c.hostname);n()&&(o=c.hostname.match(n()),o&&(c.tld=o[3],c.domain=o[2]?o[2]+"."+o[3]:void 0,c.sub=o[1]||void 0)),c.port=c.port||("https"===c.protocol?"443":"80"),c.protocol=c.protocol||("443"===c.port?"https":"http")}return t in c?c[t]:"[]"===t?c:void 0}}]));